# 冷库物流园区碳排放检测管理系统

## 项目简介

本项目是一个专为冷库物流园区设计的碳排放检测管理系统，旨在实时监控、分析和管理冷库运营过程中的碳排放情况，帮助企业实现碳中和目标，提升环保管理水平。

## 技术架构

- **后端**: NestJS + TypeScript + TypeORM/Prisma
- **前端**: React 18 + TypeScript + Ant Design
- **数据服务**: Python FastAPI + SQLAlchemy
- **数据库**: PostgreSQL + Redis
- **部署**: Docker + Docker Compose

## 功能模块规划

### 1. 用户认证与权限管理模块 (Auth Module)

#### 功能特性
- 用户登录/注册/登出
- 基于角色的访问控制 (RBAC)
- JWT 身份认证
- 多级权限管理 (超级管理员、园区管理员、操作员、查看者)
- 操作日志记录

#### 核心功能
- 用户管理 (增删改查)
- 角色权限配置
- 密码安全策略
- 会话管理
- 二次验证 (敏感操作)

### 2. 仪表板模块 (Dashboard Module)

#### 功能特性
- 实时碳排放总览
- 关键指标监控面板
- 数据可视化图表
- 告警信息展示
- 趋势分析

#### 核心功能
- 碳排放实时监控大屏
- 能耗统计图表
- 温度分布热力图
- 排放趋势分析
- 异常告警面板
- 设备运行状态监控

### 3. 碳排放管理模块 (Carbon Emission Module)

#### 功能特性
- 碳排放数据采集
- 排放因子管理
- 碳足迹计算
- 排放报告生成
- 减排目标管理

#### 核心功能
- **排放源管理**
  - 电力消耗监控
  - 制冷剂泄漏检测
  - 燃料消耗统计
  - 运输车辆排放
  
- **排放计算引擎**
  - 实时排放量计算
  - 历史数据分析
  - 排放因子配置
  - 计算公式管理
  
- **报告与分析**
  - 日/周/月/年度报告
  - 碳足迹分析
  - 减排效果评估
  - 对标分析

### 4. 冷库管理模块 (Warehouse Module)

#### 功能特性
- 冷库基础信息管理
- 温湿度监控
- 能耗管理
- 设备状态监控
- 区域管理

#### 核心功能
- **冷库信息管理**
  - 冷库基本信息
  - 存储区域划分
  - 温区配置管理
  - 容量管理
  
- **环境监控**
  - 实时温湿度监控
  - 温度曲线分析
  - 异常温度告警
  - 环境数据历史记录
  
- **设备管理**
  - 制冷设备监控
  - 设备运行状态
  - 维护计划管理
  - 故障预警系统
  
- **能耗分析**
  - 电力消耗统计
  - 能效比分析
  - 节能建议
  - 成本分析

### 5. 物流管理模块 (Logistics Module)

#### 功能特性
- 货物进出库管理
- 运输车辆管理
- 配送路线优化
- 物流碳排放追踪

#### 核心功能
- **货物管理**
  - 入库/出库记录
  - 货物温度要求
  - 存储位置管理
  - 库存统计
  
- **车辆管理**
  - 车辆基本信息
  - 燃料消耗记录
  - 运输路线记录
  - 车辆排放统计
  
- **配送优化**
  - 路线规划算法
  - 配送效率分析
  - 碳排放最优化
  - 成本效益分析

### 6. 数据分析模块 (Analytics Module)

#### 功能特性
- 多维度数据分析
- 预测分析
- 对比分析
- 自定义报表

#### 核心功能
- **数据挖掘**
  - 排放模式识别
  - 异常检测算法
  - 趋势预测
  - 关联分析
  
- **报表系统**
  - 自定义报表生成
  - 定时报表推送
  - 数据导出功能
  - 可视化配置

### 7. 告警与通知模块 (Alert & Notification Module)

#### 功能特性
- 实时告警监控
- 多渠道通知
- 告警规则配置
- 告警处理流程

#### 核心功能
- **告警规则引擎**
  - 阈值告警配置
  - 复合条件告警
  - 告警级别设置
  - 告警抑制策略
  
- **通知系统**
  - 邮件通知
  - 短信通知
  - 系统内消息
  - 微信/钉钉集成

### 8. 系统配置模块 (System Configuration Module)

#### 功能特性
- 系统参数配置
- 数据字典管理
- 接口配置
- 系统监控

#### 核心功能
- **基础配置**
  - 排放因子配置
  - 计量单位设置
  - 时区配置
  - 多语言设置
  
- **集成配置**
  - 第三方API配置
  - 数据源配置
  - 设备接口配置
  - 同步策略设置

## 开发计划

### 第一阶段：基础架构搭建 (2-3周)

#### Week 1-2: 项目初始化
- [ ] 项目脚手架搭建
- [ ] 开发环境配置
- [ ] 数据库设计与初始化
- [ ] 基础架构代码编写
- [ ] CI/CD 流水线配置

#### Week 3: 核心模块开发
- [ ] 用户认证模块开发
- [ ] 权限管理系统
- [ ] 基础 API 接口
- [ ] 前端路由配置
- [ ] 基础组件库搭建

### 第二阶段：核心功能开发 (4-5周)

#### Week 4-5: 仪表板与碳排放模块
- [ ] 仪表板页面开发
- [ ] 碳排放数据模型设计
- [ ] 排放计算引擎开发
- [ ] 实时数据展示
- [ ] 基础图表组件

#### Week 6-7: 冷库管理模块
- [ ] 冷库信息管理
- [ ] 温湿度监控系统
- [ ] 设备管理功能
- [ ] 环境数据采集接口
- [ ] 告警系统基础功能

#### Week 8: 物流管理模块
- [ ] 货物进出库管理
- [ ] 车辆管理系统
- [ ] 基础物流数据统计
- [ ] 运输记录管理

### 第三阶段：高级功能开发 (3-4周)

#### Week 9-10: 数据分析与报表
- [ ] 数据分析算法实现
- [ ] 报表生成系统
- [ ] 数据可视化优化
- [ ] 预测分析功能
- [ ] 自定义报表配置

#### Week 11-12: 系统优化与集成
- [ ] 告警通知系统完善
- [ ] 系统配置模块
- [ ] 性能优化
- [ ] 第三方系统集成
- [ ] Python FastAPI 数据服务集成

### 第四阶段：测试与部署 (2-3周)

#### Week 13-14: 测试阶段
- [ ] 单元测试编写
- [ ] 集成测试
- [ ] 性能测试
- [ ] 安全测试
- [ ] 用户验收测试

#### Week 15: 部署上线
- [ ] 生产环境部署
- [ ] 数据迁移
- [ ] 系统监控配置
- [ ] 用户培训
- [ ] 文档完善

## 技术实现要点

### 数据采集策略
- 实时数据采集 (WebSocket/SSE)
- 批量数据处理 (定时任务)
- 数据清洗与验证
- 异常数据处理

### 性能优化
- 数据库查询优化
- 缓存策略 (Redis)
- 前端虚拟滚动
- 图表性能优化
- 接口响应优化

### 安全措施
- 数据加密传输
- 敏感信息脱敏
- 操作审计日志
- 权限细粒度控制
- 防SQL注入

### 扩展性设计
- 微服务架构
- 插件化设计
- 配置化管理
- 多租户支持
- 水平扩展能力

## 项目里程碑

- **里程碑 1** (Week 3): 基础架构完成，用户认证可用
- **里程碑 2** (Week 7): 核心功能模块完成，基础监控可用
- **里程碑 3** (Week 12): 所有功能模块完成，系统集成测试通过
- **里程碑 4** (Week 15): 系统上线，用户培训完成

## 团队分工建议

### 后端开发 (2-3人)
- NestJS 核心模块开发
- 数据库设计与优化
- API 接口开发
- 系统集成

### 前端开发 (2人)
- React 页面开发
- 组件库建设
- 数据可视化
- 用户体验优化

### 数据服务开发 (1人)
- Python FastAPI 开发
- 数据分析算法
- 机器学习模型
- 数据处理优化

### 测试工程师 (1人)
- 测试用例设计
- 自动化测试
- 性能测试
- 质量保证

## 风险评估与应对

### 技术风险
- **数据采集稳定性**: 建立数据采集监控，异常自动重试
- **性能瓶颈**: 提前进行性能测试，优化关键路径
- **第三方集成**: 建立接口适配层，降低依赖风险

### 业务风险
- **需求变更**: 采用敏捷开发，快速响应需求变化
- **数据准确性**: 建立数据验证机制，多重校验
- **用户接受度**: 重视用户体验，定期收集反馈

### 项目风险
- **进度延期**: 合理评估工作量，预留缓冲时间
- **人员变动**: 建立知识文档，代码规范统一
- **质量问题**: 建立代码审查机制，完善测试流程

---

## 快速开始

```bash
# 克隆项目
git clone <repository-url>

# 安装依赖
cd backend && npm install
cd frontend && npm install

# 启动开发环境
docker-compose up -d  # 启动数据库等基础服务
npm run dev          # 启动后端服务
npm start            # 启动前端服务
```

## 贡献指南

请参考 [.cursorrules](./.cursorrules) 文件中的开发规范，确保代码质量和项目一致性。

## 许可证

[MIT License](LICENSE)
